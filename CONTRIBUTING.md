# 🚀 プロジェクト運用ガイドライン：GitHub & Copilot 活用編 (v12.0)

本ドキュメントは、これまでのExcel中心の手作業から、AIとGitHubを活用したモダンな開発体制へ移行するためのルールブックです。
IDEの具体的な操作方法については、各自で公式ドキュメント等を参照し、習得することを前提とします。

## 目次

- [🚀 プロジェクト運用ガイドライン：GitHub \& Copilot 活用編 (v12.0)](#-プロジェクト運用ガイドラインgithub--copilot-活用編-v120)
  - [目次](#目次)
  - [1. はじめに：AI時代の開発スタイル](#1-はじめにai時代の開発スタイル)
  - [2. 開発環境と前提](#2-開発環境と前提)
  - [3. 開発の基本フロー：GitHub Flow](#3-開発の基本フローgithub-flow)
    - [① 1日の作業サイクル（手戻り防止）](#-1日の作業サイクル手戻り防止)
  - [4. 命名・記述ルール（検索性の確保）](#4-命名記述ルール検索性の確保)
  - [5. GitHub Copilot 活用ポリシー](#5-github-copilot-活用ポリシー)
    - [① 活用方針（攻めと守り）](#-活用方針攻めと守り)
    - [② 【厳守】機密情報の保護](#-厳守機密情報の保護)
  - [6. Excel・非コード成果物の管理](#6-excel非コード成果物の管理)
    - [① 同時編集の禁止（コンフリクト回避）](#-同時編集の禁止コンフリクト回避)
    - [② PDF化とプレビュー](#-pdf化とプレビュー)
  - [7. 品質保証とテストの実施基準](#7-品質保証とテストの実施基準)
  - [8. 品質管理：マージ前の最終チェックリスト](#8-品質管理マージ前の最終チェックリスト)
  - [9. 【付録A】記述テンプレート集（コピペ用）](#9-付録a記述テンプレート集コピペ用)
  - [10. 【付録B】Excel全シートを1つのPDFにする手順](#10-付録bexcel全シートを1つのpdfにする手順)
  - [11. 【付録C】リポジトリ初期構築キット（管理者用）](#11-付録cリポジトリ初期構築キット管理者用)
    - [① `.gitignore` (ルート直下に作成)](#-gitignore-ルート直下に作成)
    - [② `.github/PULL_REQUEST_TEMPLATE.md`](#-githubpull_request_templatemd)
    - [③ `.github/ISSUE_TEMPLATE/task.md`](#-githubissue_templatetaskmd)
    - [④ `README.md` (ルート直下)](#-readmemd-ルート直下)

---

## 1. はじめに：AI時代の開発スタイル

私たちは今、開発プロセスの大きな転換点にいます。

| 従来の開発（Before）                             | AI時代の開発（After）                                                    |
| :----------------------------------------------- | :----------------------------------------------------------------------- |
| **ゼロから手書き**                               | **AIの提案をレビュー・修正**                                             |
| 人間が全てのコードを書くため、速度に限界がある。 | AIが下書きを生成し、**人間は「正しさの検証（レビュー）」に責任を持つ**。 |
| **ファイルサーバー管理**                         | **GitHub管理**                                                           |
| 「最新版」が不明で、先祖返りが起きる。           | 変更履歴が全て残り、常に最新状態が保証される。                           |

---

## 2. 開発環境と前提

本プロジェクトでは、以下の環境での開発を想定しています。

- **想定IDE**:
  - Visual Studio Code (VS Code)
  - Visual Studio 2022 以上
- **必須ツール**:
  - Git (バージョン管理)
  - GitHub Copilot (AIコーディング支援)
- **自己解決の原則**:
  - 「コミットの方法」「ブランチの切り方」など、IDEごとの基本的な操作方法は本マニュアルには記載しません。各自で操作方法を調べ、不明点はチーム内で共有してください。

---

## 3. 開発の基本フロー：GitHub Flow

「誰が何をしているか」を可視化し、作業の衝突を防ぐための手順です。

### ① 1日の作業サイクル（手戻り防止）

0.  **【始業時】最新化 (Pull)**:
    - 作業開始前に、必ずリモートリポジトリ（origin/main）の最新状態を手元の環境に取り込んでください。古い状態での作業はコンフリクトの原因となります。

1.  **Issue（課題）の起票**:
    - 作業内容をIssueとして登録します（テンプレートは付録参照）。
    - **PM承認**: PMにチャット等で報告し、**「着手可」**となってから作業を開始します。

2.  **ブランチ作成**:
    - `main` ブランチから分岐させ、Issue番号を含めた名前を付けます（例: `feat/45-alert-mail`）。

3.  **開発とPush（バックアップ）**:
    - 以下の頻度でPush（リモートへのアップロード）を行ってください。

    | タイミング   | 必須/推奨 | 理由                             |
    | :----------- | :-------- | :------------------------------- |
    | **退勤時**   | **必須**  | PC故障時のデータ消失回避のため。 |
    | **昼休憩時** | 推奨      | 進捗可視化のため。               |

4.  **プルリクエスト（PR）作成**:
    - 進捗率 **30%程度** でDraft PRを作成し、方向性を共有することを推奨します。

5.  **マージと削除**: 合流後は**作業用ブランチを削除**します。

---

## 4. 命名・記述ルール（検索性の確保）

以下の接頭辞（Prefix）を、**Issue、PR、コミットメッセージの先頭**に必ず付けてください。

| 接頭辞      | 意味         | 必須記載事項                     |
| :---------- | :----------- | :------------------------------- |
| `feat:`     | 新機能追加   | 対応するIssue番号。              |
| `fix:`      | バグ修正     | 「事象」と「修正内容」。         |
| `docs:`     | ドキュメント | 更新ファイル名。                 |
| `refactor:` | コード整理   | 挙動が変わっていないことの明言。 |

---

## 5. GitHub Copilot 活用ポリシー

### ① 活用方針（攻めと守り）

各IDEのショートカットや機能を活用し、効率化を図ってください。

- **コード生成（攻め）**: コメントアウトによる指示や、インラインチャット（VS Code: `Ctrl+I` / VS2022: `Alt+/` 等）を用いて、ドラフトコードを生成させること。
- **コード解説（守り）**: 既存コードの意図が不明な場合は、Copilotに解説（Explain）を求め、属人化を防ぐこと。

### ② 【厳守】機密情報の保護

プロンプトには、**以下の情報を絶対に入れないでください**。

| 項目         | 具体例（NG）          | 推奨する書き換え（OK） |
| :----------- | :-------------------- | :--------------------- |
| **顧客情報** | A社、トヨタシステムズ | A社、取引先B           |
| **個人情報** | 山田太郎、090-xxxx    | 担当者A、連絡先X       |
| **認証情報** | password123           | (入力しない)           |

---

## 6. Excel・非コード成果物の管理

### ① 同時編集の禁止（コンフリクト回避）

Excel（バイナリファイル）は、Gitで変更内容を自動結合できません。
**同じファイルを複数人で同時に触ると、どちらかの作業が消滅します。**

> **ルール:** Excel編集時は、チャット等で**「〇〇のExcelを編集します」と宣言**し、排他制御を行ってください。

### ② PDF化とプレビュー

GitHub上で閲覧可能にするため、Excel更新時は必ずPDFも作成します。

- **手順**: 「ブック全体」を1つのPDFとして出力（手順は付録B）。
- **チェック**: PR提出時に、ExcelとPDFの更新日時が一致しているか確認すること。

---

## 7. 品質保証とテストの実施基準

| テスト種類             | 実施者 | タイミング  | 内容                                           |
| :--------------------- | :----- | :---------- | :--------------------------------------------- |
| **単体テスト**         | 担当者 | Issue対応中 | 機能単体での動作確認。                         |
| **簡易結合チェック**   | 担当者 | Issue対応中 | 自分の変更で他画面がエラーにならないかの確認。 |
| **システム結合テスト** | チーム | PM指示後    | 機能が出揃った段階で実施。                     |

---

## 8. 品質管理：マージ前の最終チェックリスト

PRをマージする前に確認すべき必須項目です。

- [ ] **自動テスト（Checks）はすべて「緑色（Pass）」か？**
- [ ] **PDFとExcelの内容・更新日時は一致しているか？**
- [ ] **機密情報が含まれていないか？**
- [ ] **PRの説明文に `Close #Issue番号` と記載されているか？**

---

## 9. 【付録A】記述テンプレート集（コピペ用）

自動テンプレート設定が完了するまでの間や、手動で作成する場合は以下を使用してください。

**1. Issue（課題）テンプレート**

```markdown
## 概要

例：在庫切れアラート機能の実装

## 目的・背景

例：在庫切れに気づかず受注してしまうミスを防ぐため。

## やること（To-Do）

- [ ] 閾値設定画面の作成
- [ ] 単体テストコードの作成と実行
- [ ] ローカル環境での動作確認（簡易結合チェック）

## 参考資料

- docs/基本設計書.pdf (P.15)
```

**2. Pull Request（PR）テンプレート**

```markdown
## 概要

Issue #45 に対応し、在庫切れアラート機能を実装しました。

## 変更点

- 商品マスタ画面に「閾値」項目を追加
- docs/基本設計書.xlsx および .pdf を更新

## テスト実施状況

- [x] 自動テスト（GitHub Actions）を通過
- [x] ローカル環境でアラートメールが届くことを確認（添付：メールのスクショ.png）

## 関連Issue

Close #45
```

---

## 10. 【付録B】Excel全シートを1つのPDFにする手順

1.  **[ファイル]** > **[エクスポート]** (または [名前を付けて保存]) を選択。
2.  **[PDF/XPS ドキュメントの作成]** をクリック。
3.  保存ダイアログ下部の **[オプション(O)...]** をクリック。
4.  **「発行対象」** で **[ブック全体(E)]** を選択して [OK]。
5.  **[発行]** をクリック。

---

## 11. 【付録C】リポジトリ初期構築キット（管理者用）

本プロジェクトを新規にセットアップする際、以下のファイルを配置することで自動化設定が有効になります。

### ① `.gitignore` (ルート直下に作成)

Excelの一時ファイルや、OSのゴミファイルを除外するための設定です。

```gitignore
# Windows & Mac OS system files
Thumbs.db
.DS_Store

# Excel temporary files (opened files)
~$*.xlsx
~$*.xls
*.tmp

# VS Code settings (personal)
.vscode/

# Node.js dependencies (if applicable)
node_modules/
```

### ② `.github/PULL_REQUEST_TEMPLATE.md`

PR作成時に自動挿入される文章です。

```markdown
## 概要

## 変更点

## テスト実施状況

- [ ] 自動テスト（GitHub Actions）を通過した
- [ ] ローカル環境での動作確認済み（添付：動作エビデンスのスクショ.png）
- [ ] **【重要】** ExcelとPDFの更新日時は一致しているか
- [ ] **【重要】** 機密情報（顧客名・パスワード等）は含まれていないか

## 関連Issue

Close #
```

### ③ `.github/ISSUE_TEMPLATE/task.md`

Issue作成時にメニューとして表示されるテンプレートです。

```markdown
---
name: タスク / 機能追加
about: 通常の開発タスクや機能追加はこちらを使用してください
title: "[feat/fix/docs] タスクのタイトル"
labels: ""
assignees: ""
---

## 概要

## 目的・背景

## やること（To-Do）

- [ ] - [ ] 単体テストコードの作成と実行
- [ ] ローカル環境での動作確認（簡易結合チェック）

## 参考資料
```

### ④ `README.md` (ルート直下)

プロジェクトの表紙として配置し、このガイドライン（CONTRIBUTING.md）へ誘導します。

```markdown
# プロジェクト名

## 📢 開発チームの皆様へ

本プロジェクトでは、GitHubとCopilotを活用した新しい開発フローを採用しています。
開発に参加する前に、必ず以下のガイドラインに目を通してください。

👉 **[プロジェクト運用ガイドライン (CONTRIBUTING.md)](./CONTRIBUTING.md)**

---

## 📂 フォルダ構成

- `src/`: ソースコード
- `docs/`: 仕様書などのドキュメント（Excel/PDF）
- `.github/`: GitHub設定ファイル

## 🚀 開発の始め方

1. `VS Code` を開く
2. 左側のソース管理アイコンからリポジトリを `Clone` する
3. 作業前に必ず `Pull` して最新化する
```
